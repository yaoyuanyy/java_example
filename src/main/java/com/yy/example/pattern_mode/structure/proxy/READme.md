## 代理模式-proxy

### 定义
为其他对象提供一种代理已控制对这个对象的访问。这样做的好处是:可以在目标对象实现的基础上,增强额外的功能操作,即扩展目标对象的功能.

### 说明
```
这里使用到编程中的一个思想:不要随意去修改别人已经写好的代码或者方法,如果需改修改,可以通过代理的方式来扩展该方法

代理模式的关键点是:代理对象与目标对象.代理对象是对目标对象的扩展,并会调用目标对象

代理模式的一个好处就是对外部提供统一的接口方法，而代理类在接口中实现对真实类的附加操作行为，从而可以在不影响外部调用情况下，进行系统扩展。
也就是说，我要修改真实角色的操作的时候，尽量不要修改他，而是在外部在“包”一层进行附加行为，即代理类。例如：接口A有一个接口方法operator()，真实角色：RealA实现接口A，则必须实现接口方法operator()。
客户端Client调用接口A的接方法operator()。现在新需求来了，需要修改RealA中的operator()的操作行为。怎么办呢？如果修改RealA就会影响原有系统的稳定性，还要重新测试。
这是就需要代理类实现附加行为操作。创建代理ProxyA实现接口A，并将真实对象RealA注入进来。ProxyA实现接口方法operator()，另外还可以增加附加行为，然后调用真实对象的operator()。
从而达到了“对修改关闭，对扩展开放”，保证了系统的稳定性。我们看客户端Client调用仍是接口A的接口方法operator()，只不过实例变为了ProxyA类了而已。也就是说代理模式实现了ocp原则
```


### 使用时机
```
当我们需要使用的对象很复杂或者需要很长时间去构造，这时就可以使用代理模式(Proxy)。
例如：如果构建一个对象很耗费时间和计算机资源，代理模式(Proxy)允许我们控制这种情况，直到我们需要使用实际的对象。
一个代理(Proxy)通常包含和将要使用的对象同样的方法，一旦开始使用这个对象，这些方法将通过代理(Proxy)传递给实际的对象。
一些可以使用代理模式(Proxy)的情况：

　　一个对象，比如一幅很大的图像，需要载入的时间很长。　　　　

　　一个需要很长时间才可以完成的计算结果，并且需要在它计算过程中显示中间结果

　　一个存在于远程计算机上的对象，需要通过网络载入这个远程对象则需要很长时间，特别是在网络传输高峰期。

　　一个对象只有有限的访问权限，代理模式(Proxy)可以验证用户的权限
```

### 外观模式的优点和缺点
```$xslt    

```

### 实例


### 装饰者模式与代理模式的区别
```markdown
UML类图基本没区别，都是实现同一个接口，一个类包装另一 个类。 两者的定义：

- 装饰器模式：能动态的新增或组合对象的行为
在不改变接口的前提下，动态扩展对象的功能

- 代理模式：为其他对象提供一种代理以控制对这个对象的访问
在不改变接口的前提下，控制对象的访问

装饰模式是“新增行为”，而代理模式是“控制访问”。关键就是我们如何判断是“新增行 为”还是“控制访问”。你在一个地方写装饰，大家就知道这是在增加功能，你写代理，大 家就知道是在限制。
```


### 参考
https://segmentfault.com/a/1190000009235245
https://segmentfault.com/a/1190000002510537
https://www.ibm.com/developerworks/cn/java/j-lo-proxy-pattern/index.html