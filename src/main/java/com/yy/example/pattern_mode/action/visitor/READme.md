## 访问者模式-visitor

 
#### 一.意图

表示一个作用于某对象结构中各元素的操作，它使你可以在不改变各元素的类的前提下定义作用于这些元素的新操作

#### 二. 说明(动机)
```
提供一个作用于某种对象结构上的各元素的操作方式，可以使我们在不改变元素结构的前提下，定义作用于元素的新操作。
换言之，如果系统的数据结构是比较稳定的，但其操作（算法）是易于变化的，那么使用访问者模式是个不错的选择；如果数据结构是易于变化的，则不适合使用访问者模式。```
```

#### 三. 分类

```

```
    
#### 四. 适用场景
```
汽车中的元素很稳定，这些几乎不可能改变，而最容易改变的就是访问者这部分。
访问者模式最大的优点就是增加访问者非常容易，我们从代码上来看，如果要增加一个访问者，
你只需要做一件事即可，新增访问者实现Visitor接口，然后就可以直接调用对象结构的info方法去访问汽车了

如果一个对象结构比较复杂，同时结构稳定不易变化，但却需要经常在此结构上定义新的操作，那就非常合适使用访问者模式，比如复杂的集合对象、XML文档解析、编译器的设计等。
```
#### 五. 优缺点
```
优点：
增加新的访问操作十分方便，符合开闭原则；
将有关元素对象的访问行为集中到一个访问者对象中，而不是分散在一个个的元素类中，类的职责更加清晰，符合单一职责原则

主要缺点：
增加新的元素类很困难，需要在每一个访问者类中增加相应访问操作代码，这违背了开闭原则；
元素对象有时候必须暴露一些自己的内部操作和状态，否则无法供访问者访问，这破坏了元素的封装性。

总结：访问者模式使我们更加容易的增加访问操作，但增加元素比较困难，需要我们修改抽象访问类和所有的具体访问类。

```

#### 六. 相关模式
```
```

#### 七. 参考

https://www.jianshu.com/p/cd17bae4e949